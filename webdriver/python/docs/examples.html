

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Examples &mdash; slick-webdriver 1.0 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="static/css/theme.css" type="text/css" />
  

  
    <link rel="top" title="slick-webdriver 1.0 documentation" href="index.html"/>
        <link rel="next" title="Using the Webdriver APIs" href="raw-webdriver.html"/>
        <link rel="prev" title="Locators" href="locators.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="index.html" class="fa fa-home"> slick-webdriver</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="overview.html#web-testing-in-general">Web Testing in General</a></li>
<li class="toctree-l2"><a class="reference internal" href="overview.html#best-practices">Best Practices</a></li>
<li class="toctree-l2"><a class="reference internal" href="overview.html#writing-tests">Writing Tests</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="page-classes.html">Page Classes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="page-classes.html#what-are-page-classes">What Are Page Classes?</a></li>
<li class="toctree-l2"><a class="reference internal" href="page-classes.html#static-page-classes-flat">Static Page Classes (Flat)</a></li>
<li class="toctree-l2"><a class="reference internal" href="page-classes.html#nested-page-classes">Nested Page Classes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="locators.html">Locators</a><ul>
<li class="toctree-l2"><a class="reference internal" href="locators.html#what-are-locators">What are Locators</a></li>
<li class="toctree-l2"><a class="reference internal" href="locators.html#common-strategies">Common Strategies</a></li>
<li class="toctree-l2"><a class="reference internal" href="locators.html#more-complex-strategies">More Complex Strategies</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Examples</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#simple-example">Simple Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="#nested-page-class-example">Nested Page Class Example</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="raw-webdriver.html">Using the Webdriver APIs</a><ul>
<li class="toctree-l2"><a class="reference internal" href="raw-webdriver.html#why-you-might-need-them">Why you might need them</a></li>
<li class="toctree-l2"><a class="reference internal" href="raw-webdriver.html#how-to-get-to-them">How to get to them</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="slickwd.html">slickwd API Documentation</a></li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">slick-webdriver</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Examples</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="sources/examples.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            
  <div class="section" id="examples">
<h1>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
<ul class="simple">
</ul>
</div>
<p>Below you will find various examples.  These examples are explained here (in detail), but the source for them is
available from <a class="reference external" href="https://github.com/slickqa/slick-webdriver-python/tree/master/examples">Github</a>.</p>
<div class="section" id="simple-example">
<h2>Simple Example<a class="headerlink" href="#simple-example" title="Permalink to this headline">¶</a></h2>
<p>The following is the simple example, which is a python test (written using
<a class="reference external" href="https://nose.readthedocs.org/en/latest/">nose</a>).  The test in this example loads the google home page,
and searches for <em>Slick Test Manager</em> and ensures a particular page is in the results:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">slickwd</span> <span class="kn">import</span> <span class="n">BrowserType</span><span class="p">,</span> <span class="n">Browser</span><span class="p">,</span> <span class="n">Container</span><span class="p">,</span> <span class="n">WebElementLocator</span><span class="p">,</span> <span class="n">Find</span>
<span class="kn">from</span> <span class="nn">nose</span> <span class="kn">import</span> <span class="n">with_setup</span>
<span class="kn">from</span> <span class="nn">nose.tools</span> <span class="kn">import</span> <span class="n">assert_regexp_matches</span>

<span class="c"># Page Classes --------------------------------------------------</span>
<span class="k">class</span> <span class="nc">GoogleSearchPage</span><span class="p">(</span><span class="n">Container</span><span class="p">):</span>
    <span class="n">Search_Query_Text_Field</span> <span class="o">=</span> <span class="n">WebElementLocator</span><span class="p">(</span><span class="s">&quot;Search Box&quot;</span><span class="p">,</span> <span class="n">Find</span><span class="o">.</span><span class="n">by_name</span><span class="p">(</span><span class="s">&quot;q&quot;</span><span class="p">))</span>
    <span class="n">Search_Button</span> <span class="o">=</span> <span class="n">WebElementLocator</span><span class="p">(</span><span class="s">&quot;Search Button&quot;</span><span class="p">,</span> <span class="n">Find</span><span class="o">.</span><span class="n">by_name</span><span class="p">(</span><span class="s">&quot;btnG&quot;</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">is_current_page</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">browser</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">browser</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">GoogleSearchPage</span><span class="o">.</span><span class="n">Search_Query_Text_Field</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">log</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">SearchResultsPage</span><span class="p">(</span><span class="n">Container</span><span class="p">):</span>
    <span class="n">Results_Div</span> <span class="o">=</span> <span class="n">WebElementLocator</span><span class="p">(</span><span class="s">&quot;Results Div&quot;</span><span class="p">,</span> <span class="n">Find</span><span class="o">.</span><span class="n">by_id</span><span class="p">(</span><span class="s">&quot;ires&quot;</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">is_current_page</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">browser</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">browser</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">SearchResultsPage</span><span class="o">.</span><span class="n">Results_Div</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">log</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>

<span class="c"># Tests ---------------------------------------------------------</span>
<span class="n">browser</span> <span class="o">=</span> <span class="bp">None</span>


<span class="k">def</span> <span class="nf">s</span><span class="p">():</span>
    <span class="k">global</span> <span class="n">browser</span>
    <span class="k">if</span> <span class="n">browser</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">browser</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>
    <span class="n">browser</span> <span class="o">=</span> <span class="n">Browser</span><span class="p">(</span><span class="n">BrowserType</span><span class="o">.</span><span class="n">FIREFOX</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">cleanup</span><span class="p">():</span>
    <span class="k">global</span> <span class="n">browser</span>
    <span class="k">if</span> <span class="n">browser</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">browser</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>
        <span class="n">browser</span> <span class="o">=</span> <span class="bp">None</span>

<span class="nd">@with_setup</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">cleanup</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">test_google_search</span><span class="p">():</span>
    <span class="k">global</span> <span class="n">browser</span>
    <span class="n">browser</span><span class="o">.</span><span class="n">go_to</span><span class="p">(</span><span class="s">&#39;http://www.google.com&#39;</span><span class="p">)</span>
    <span class="n">browser</span><span class="o">.</span><span class="n">wait_for_page</span><span class="p">(</span><span class="n">GoogleSearchPage</span><span class="p">)</span>
    <span class="n">browser</span><span class="o">.</span><span class="n">click_and_type</span><span class="p">(</span><span class="n">GoogleSearchPage</span><span class="o">.</span><span class="n">Search_Query_Text_Field</span><span class="p">,</span> <span class="s">&quot;Slick Test Manager&quot;</span><span class="p">)</span>
    <span class="n">browser</span><span class="o">.</span><span class="n">click</span><span class="p">(</span><span class="n">GoogleSearchPage</span><span class="o">.</span><span class="n">Search_Button</span><span class="p">)</span>
    <span class="n">browser</span><span class="o">.</span><span class="n">wait_for_page</span><span class="p">(</span><span class="n">SearchResultsPage</span><span class="p">)</span>
    <span class="n">assert_regexp_matches</span><span class="p">(</span><span class="n">browser</span><span class="o">.</span><span class="n">get_page_text</span><span class="p">(),</span> <span class="s">&#39;.*SlickQA:.*&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>This may seem like a lot, but normally the <a class="reference internal" href="page-classes.html"><em>Page Classes</em></a> would be in a different module that you would import.
Let&#8217;s start with the page classes and explain what they are here:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">GoogleSearchPage</span><span class="p">(</span><span class="n">Container</span><span class="p">):</span>
    <span class="n">Search_Query_Text_Field</span> <span class="o">=</span> <span class="n">WebElementLocator</span><span class="p">(</span><span class="s">&quot;Search Box&quot;</span><span class="p">,</span> <span class="n">Find</span><span class="o">.</span><span class="n">by_name</span><span class="p">(</span><span class="s">&quot;q&quot;</span><span class="p">))</span>
    <span class="n">Search_Button</span> <span class="o">=</span> <span class="n">WebElementLocator</span><span class="p">(</span><span class="s">&quot;Search Button&quot;</span><span class="p">,</span> <span class="n">Find</span><span class="o">.</span><span class="n">by_name</span><span class="p">(</span><span class="s">&quot;btnG&quot;</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">is_current_page</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">browser</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">browser</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">GoogleSearchPage</span><span class="o">.</span><span class="n">Search_Query_Text_Field</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">log</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
</div>
<p>In this page class, there are 2 <em>locators</em>.  The locators are the elements that are used in tests.  Page classes
mostly serve as a grouping of WebElementLocators.  The first locator is named <em>Search Box</em> and it looks for an element
anywhere on the page with the <em>name=&#8221;q&#8221;</em> attribute on it.  In this case it&#8217;s an input box of type text.  Notice I didn&#8217;t
have to supply all that info, just the part that uniquely identifies the element so that webdriver can get a hold of it.</p>
<p>The second element is very similar, it&#8217;s called &#8220;Search Button&#8221; and it is identified by it&#8217;s name attribute as well.</p>
<p>The page class is a sub class of <a class="reference internal" href="slickwd.html#slickwd.Container" title="slickwd.Container"><tt class="xref py py-class docutils literal"><span class="pre">slickwd.Container</span></tt></a>.  In terms of this framework that is special because it
allows the page to include a method to <em>detect</em> itself.  The <em>is_current_page</em> method needs to return a boolean (true
or false) and should execute very quickly.  This method is what allows for the test to call <em>wait_for_page</em> on this
page.  We will see that later on in the test.  The only things that may look out of place on the <em>is_current_page</em>
method is the last 2 parameters that you don&#8217;t normally pass in.  These tell the framework to only check for the
element 1 time (<em>timeout=0</em> parameter), and not to log it (<em>log=False</em> parameter).  The logging is there because
logging each call to is_current_page in this context could be redundant noise in the logs.  By setting <em>log=False</em> in
the page class&#8217;s call to <em>browser.exists(...)</em> we make sure that only the tests explicit calls to browser actions
are logged.</p>
<p>I won&#8217;t cover line by line the second page class as it is almost the same as the first.</p>
<p>The setup and cleanup methods are worth making a few notes about:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">browser</span> <span class="o">=</span> <span class="bp">None</span>


<span class="k">def</span> <span class="nf">s</span><span class="p">():</span>
    <span class="k">global</span> <span class="n">browser</span>
    <span class="k">if</span> <span class="n">browser</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">browser</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>
    <span class="n">browser</span> <span class="o">=</span> <span class="n">Browser</span><span class="p">(</span><span class="n">BrowserType</span><span class="o">.</span><span class="n">FIREFOX</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">cleanup</span><span class="p">():</span>
    <span class="k">global</span> <span class="n">browser</span>
    <span class="k">if</span> <span class="n">browser</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">browser</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>
        <span class="n">browser</span> <span class="o">=</span> <span class="bp">None</span>
</pre></div>
</div>
<p>In this part of the example we have first a global variable (or at least module level variable).  This allows us
to use this variable in all the test functions.  I could have used a class instead and made this an instance variable
but I used module level variables (with functions) instead.</p>
<p>Notice how the setup method is named <em>s()</em>.  This is because if I had named it setup, nose would have treated it as a
module level setup function, and it would have been called twice on the first test.</p>
<p>Notice how the setup quits the browser if it&#8217;s running.  To make tests more robust they should be able to handle any
scenario of bad or unworking cleanup.  I should have also put the quit in a try block, but I&#8217;ll leave that as an
exercise of the reader.</p>
<p>Using a setup and cleanup to start and stop the browser is a good idea mostly because it centralizes the logic of
launching the browser.  In this case the browser is hard coded, but it&#8217;s actually recommended to make that a
configuration parameter.  You can do that using environment variables or a configuration file.  Once again that is
left to the reader to implement.</p>
<p>Finally the test:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="nd">@with_setup</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">cleanup</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">test_google_search</span><span class="p">():</span>
    <span class="k">global</span> <span class="n">browser</span>
    <span class="n">browser</span><span class="o">.</span><span class="n">go_to</span><span class="p">(</span><span class="s">&#39;http://www.google.com&#39;</span><span class="p">)</span>
    <span class="n">browser</span><span class="o">.</span><span class="n">wait_for_page</span><span class="p">(</span><span class="n">GoogleSearchPage</span><span class="p">)</span>
    <span class="n">browser</span><span class="o">.</span><span class="n">click_and_type</span><span class="p">(</span><span class="n">GoogleSearchPage</span><span class="o">.</span><span class="n">Search_Query_Text_Field</span><span class="p">,</span> <span class="s">&quot;Slick Test Manager&quot;</span><span class="p">)</span>
    <span class="n">browser</span><span class="o">.</span><span class="n">click</span><span class="p">(</span><span class="n">GoogleSearchPage</span><span class="o">.</span><span class="n">Search_Button</span><span class="p">)</span>
    <span class="n">browser</span><span class="o">.</span><span class="n">wait_for_page</span><span class="p">(</span><span class="n">SearchResultsPage</span><span class="p">)</span>
    <span class="n">assert_regexp_matches</span><span class="p">(</span><span class="n">browser</span><span class="o">.</span><span class="n">get_page_text</span><span class="p">(),</span> <span class="s">&#39;.*SlickQA:.*&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>The test is marked with the setup and cleanup functions.  Then notice how there is very little busy work for the test.
This test should be clear.  The only real thing to note is the final line that does the assertion.  A better way would
have been to look at a specific link text, but that would have been more work without a major benefit, and it may have
made the test more fragile.</p>
<p>Finally let&#8217;s look at the logging output of this test, as that is a feature of the framework:</p>
<div class="highlight-python"><div class="highlight"><pre>slickwd.Browser: DEBUG: New browser instance requested with browser_type=&#39;FIREFOX&#39; and remote_url=None
slickwd.Browser: INFO: Creating a new browser (locally connected) of type firefox
slickwd.Browser: DEBUG: Navigating to url &#39;http://www.google.com&#39;.
slickwd.Browser: DEBUG: Waiting for up to 30.00 seconds for page GoogleSearch to be the current page.
slickwd.Browser: DEBUG: Found page GoogleSearch after 0.24 seconds.
slickwd.WebElementLocator: DEBUG: Waiting for up to 30.00 seconds for element Search Box found by name &quot;q&quot; to be available.
slickwd.WebElementLocator: INFO: Found element Search Box using locator property name &quot;q&quot; after 0.00 seconds.
slickwd.Browser: DEBUG: Clicking on element Search Box found by name &quot;q&quot;
slickwd.Browser: DEBUG: Typing &quot;Slick Test Manager&quot; into element Search Box found by name &quot;q&quot;
slickwd.WebElementLocator: DEBUG: Waiting for up to 30.00 seconds for element Search Button found by name &quot;btnG&quot; to be available.
slickwd.WebElementLocator: INFO: Found element Search Button using locator property name &quot;btnG&quot; after 0.01 seconds.
slickwd.Browser: DEBUG: Clicking on element Search Button found by name &quot;btnG&quot;
slickwd.Browser: DEBUG: Waiting for up to 30.00 seconds for page SearchResults to be the current page.
slickwd.Browser: DEBUG: Found page SearchResults after 3.60 seconds.
slickwd.Browser: INFO: Calling quit on browser instance.
</pre></div>
</div>
<p>Notice how even thought the test doesn&#8217;t explicitly make any logging requests, we can see what the test did, how it
did it, and how long it took to do it.</p>
</div>
<div class="section" id="nested-page-class-example">
<h2>Nested Page Class Example<a class="headerlink" href="#nested-page-class-example" title="Permalink to this headline">¶</a></h2>
<p>Nested page classes can be nice for code completion (if you are using an editor or IDE with python code completion like
<a class="reference external" href="https://www.jetbrains.com/pycharm/">PyCharm</a>), and it can improve your log output.  Below you&#8217;ll see an example that
is very much like the above example (it does the same test), but with nested page classes stored in another python
file.  First the page classes (<a class="reference external" href="https://github.com/slickqa/slick-webdriver-python/blob/master/examples/nested-page-classes/pages.py">pages.py</a>):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">slickwd</span> <span class="kn">import</span> <span class="n">Container</span><span class="p">,</span> <span class="n">WebElementLocator</span><span class="p">,</span> <span class="n">Find</span>

<span class="k">class</span> <span class="nc">GoogleRootContainer</span><span class="p">(</span><span class="n">Container</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Root google page.  An instance is supposed to be created called Google.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">container_name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Home</span> <span class="o">=</span> <span class="n">GoogleHomePage</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">SearchResults</span> <span class="o">=</span> <span class="n">GoogleSearchResultsPage</span><span class="p">()</span>


<span class="k">class</span> <span class="nc">GoogleHomePage</span><span class="p">(</span><span class="n">Container</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Google &quot;Home&quot; page, or www.google.com.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Search_Query_Text_Field</span> <span class="o">=</span> <span class="n">WebElementLocator</span><span class="p">(</span><span class="s">&quot;Search Box&quot;</span><span class="p">,</span> <span class="n">Find</span><span class="o">.</span><span class="n">by_name</span><span class="p">(</span><span class="s">&quot;q&quot;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Search_Button</span> <span class="o">=</span> <span class="n">WebElementLocator</span><span class="p">(</span><span class="s">&quot;Search Button&quot;</span><span class="p">,</span> <span class="n">Find</span><span class="o">.</span><span class="n">by_name</span><span class="p">(</span><span class="s">&quot;btnG&quot;</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">is_current_page</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">browser</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">browser</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">Search_Query_Text_Field</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">log</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">GoogleSearchResultsPage</span><span class="p">(</span><span class="n">Container</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A page with google search results.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Results_Div</span> <span class="o">=</span> <span class="n">WebElementLocator</span><span class="p">(</span><span class="s">&quot;Results Div&quot;</span><span class="p">,</span> <span class="n">Find</span><span class="o">.</span><span class="n">by_id</span><span class="p">(</span><span class="s">&quot;ires&quot;</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">is_current_page</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">browser</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">browser</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">Results_Div</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">log</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>


<span class="n">Google</span> <span class="o">=</span> <span class="n">GoogleRootContainer</span><span class="p">(</span><span class="s">&quot;Google&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>And the tests (<a class="reference external" href="https://github.com/slickqa/slick-webdriver-python/blob/master/examples/nested-page-classes/searchtests.py">searchtests.py</a>):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">os</span>

<span class="kn">from</span> <span class="nn">slickwd</span> <span class="kn">import</span> <span class="n">BrowserType</span><span class="p">,</span> <span class="n">Browser</span>
<span class="kn">from</span> <span class="nn">pages</span> <span class="kn">import</span> <span class="n">Google</span>
<span class="kn">from</span> <span class="nn">nose</span> <span class="kn">import</span> <span class="n">with_setup</span>
<span class="kn">from</span> <span class="nn">nose.tools</span> <span class="kn">import</span> <span class="n">assert_regexp_matches</span>


<span class="n">browser</span> <span class="o">=</span> <span class="bp">None</span>


<span class="k">def</span> <span class="nf">s</span><span class="p">():</span>
    <span class="k">global</span> <span class="n">browser</span>
    <span class="k">if</span> <span class="n">browser</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">browser</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>
    <span class="n">browser</span> <span class="o">=</span> <span class="n">Browser</span><span class="p">(</span><span class="n">BrowserType</span><span class="o">.</span><span class="n">PHANTOMJS</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">cleanup</span><span class="p">():</span>
    <span class="k">global</span> <span class="n">browser</span>
    <span class="k">if</span> <span class="n">browser</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">browser</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>

<span class="nd">@with_setup</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">cleanup</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">test_google_search</span><span class="p">():</span>
    <span class="k">global</span> <span class="n">browser</span>
    <span class="n">browser</span><span class="o">.</span><span class="n">go_to</span><span class="p">(</span><span class="s">&#39;http://www.google.com&#39;</span><span class="p">)</span>
    <span class="n">browser</span><span class="o">.</span><span class="n">wait_for_page</span><span class="p">(</span><span class="n">Google</span><span class="o">.</span><span class="n">Home</span><span class="p">)</span>
    <span class="n">browser</span><span class="o">.</span><span class="n">click_and_type</span><span class="p">(</span><span class="n">Google</span><span class="o">.</span><span class="n">Home</span><span class="o">.</span><span class="n">Search_Query_Text_Field</span><span class="p">,</span> <span class="s">&quot;Slick Test Manager&quot;</span><span class="p">)</span>
    <span class="n">browser</span><span class="o">.</span><span class="n">click</span><span class="p">(</span><span class="n">Google</span><span class="o">.</span><span class="n">Home</span><span class="o">.</span><span class="n">Search_Button</span><span class="p">)</span>
    <span class="n">browser</span><span class="o">.</span><span class="n">wait_for_page</span><span class="p">(</span><span class="n">Google</span><span class="o">.</span><span class="n">SearchResults</span><span class="p">)</span>
    <span class="n">assert_regexp_matches</span><span class="p">(</span><span class="n">browser</span><span class="o">.</span><span class="n">get_page_text</span><span class="p">(),</span> <span class="s">&#39;.*SlickQA:.*&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>As mentioned above there are 2 primary advantages for the nested page classes: first code completion in a python IDE,
and second in the logs.  The logs are improved because every time you do an action such as clicking on an element, you
can see the hierarchy of page classes and what element a page is on.  This doesn&#8217;t happen with the static layout.</p>
<p>Here is an example of the output you would get from the logs:</p>
<div class="highlight-python"><div class="highlight"><pre>slickwd.Browser: DEBUG: New browser instance requested with browser_type=&#39;PHANTOMJS&#39; and remote_url=None
slickwd.Browser: INFO: Creating a new browser (locally connected) of type phantomjs
slickwd.Browser: DEBUG: Navigating to url &#39;http://www.google.com&#39;.
slickwd.Browser: DEBUG: Waiting for up to 30.00 seconds for page Google.Home to be the current page.
slickwd.Browser: DEBUG: Found page Google.Home after 0.01 seconds.
slickwd.WebElementLocator: DEBUG: Waiting for up to 30.00 seconds for element Search Box on page Google.Home found by name &quot;q&quot; to be available.
slickwd.WebElementLocator: INFO: Found element Search Box using locator property name &quot;q&quot; after 0.01 seconds.
slickwd.Browser: DEBUG: Clicking on element Search Box on page Google.Home found by name &quot;q&quot;
slickwd.Browser: DEBUG: Typing &quot;Slick Test Manager&quot; into element Search Box on page Google.Home found by name &quot;q&quot;
slickwd.WebElementLocator: DEBUG: Waiting for up to 30.00 seconds for element Search Button on page Google.Home found by name &quot;btnG&quot; to be available.
slickwd.WebElementLocator: INFO: Found element Search Button using locator property name &quot;btnG&quot; after 0.01 seconds.
slickwd.Browser: DEBUG: Clicking on element Search Button on page Google.Home found by name &quot;btnG&quot;
slickwd.Browser: DEBUG: Waiting for up to 30.00 seconds for page Google.SearchResults to be the current page.
slickwd.Browser: DEBUG: Found page Google.SearchResults after 0.01 seconds.
slickwd.Browser: INFO: Calling quit on browser instance.
</pre></div>
</div>
<p>Notice each element knows what page it is on in the code, and each page knows it&#8217;s <em>parent</em> in the hierarchy.  This
can help greatly when comparing code and logs, as well as navigating code.</p>
<p>I&#8217;m going to go backwards through the code.  First let&#8217;s look at the test.  The test is almost the same as in the
single page example.  The difference comes in the page and elements.  Notice how each of the page classes starts with
<em>Google.</em>.  This is the root page in the page class hierarchy.  The advantage (as was said above) comes when using an
IDE.  Take a look at the following screenshot taken while writing the test:</p>
<p><img alt="code-completion" src="images/code-completion.png" /></p>
<p>This allows the people writing the tests to effectively browse through the hierarchy of available elements, reducing
the possibility of duplication of definitions.</p>
<p>The page classes are a little bit different than explained in the simple example.  Let&#8217;s go through the differences:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">GoogleRootContainer</span><span class="p">(</span><span class="n">Container</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Root google page.  An instance is supposed to be created called Google.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">container_name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Home</span> <span class="o">=</span> <span class="n">GoogleHomePage</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">SearchResults</span> <span class="o">=</span> <span class="n">GoogleSearchResultsPage</span><span class="p">()</span>
</pre></div>
</div>
<p>This page class is entirely new.  In our page class hierarchy this is the root.  It is responsible for creating
instances of all the other nested page classes.  Notice that they are created in the <em>__init__</em> instead of statically
on the page.  There is one other thing different about this page class.  It accepts a name parameter.  One of the
advantages of page classes is that each element and page knows it&#8217;s name as far as the hierarchy is concerned.  But
in order for that to work you have to name the root node.</p>
<p>Something you don&#8217;t even realize that is happening here is that when the constructor to <em>GoogleHomePage</em> is called and
assigned to the <em>Home</em> attribute name on the current instance, underneath the <em>Container</em> class sets up the parent-child
relationship and sets the known name for the <em>GoogleHomePage</em> instance to <em>Home</em>.  This is why you only have to set the
name of the root node of your hierarchy.</p>
<p>The other page classes look similar, except the <a class="reference internal" href="slickwd.html#slickwd.WebElementLocator" title="slickwd.WebElementLocator"><tt class="xref py py-class docutils literal"><span class="pre">slickwd.WebElementLocator</span></tt></a> instances are now instantiated
inside the page class&#8217;s <em>__init__</em>.</p>
<p>I only show 2 levels of page class here, but you can nest them as deep as you want (mostly).  Recursion is used for
getting the names of pages, but if you hit that limit you will have an extremely deep hierarchy.</p>
<p>The only other line that might look different is:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">Google</span> <span class="o">=</span> <span class="n">GoogleRootContainer</span><span class="p">(</span><span class="s">&quot;Google&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>This line allows for an importable name called Google that is a singleton instance of the class GoogleRootContainer.
This could have been instantiated in a setup, if for instance you needed to pass configuration data to the page class
hierarchy.  One example of needing to do this is if you had different locators for different versions of a product.
You could store that version in the page class hierarchy in order to decide which locator to add to the page class.</p>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="raw-webdriver.html" class="btn btn-neutral float-right" title="Using the Webdriver APIs"/>Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="locators.html" class="btn btn-neutral" title="Locators"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014, Jason Corbett.
    </p>
  </div>

  <a href="https://github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="static/jquery.js"></script>
      <script type="text/javascript" src="static/underscore.js"></script>
      <script type="text/javascript" src="static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>